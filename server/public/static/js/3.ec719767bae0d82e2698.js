webpackJsonp([3,8],{112:function(t,e,a){e=t.exports=a(3)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"Main.vue",sourceRoot:"webpack://"}])},118:function(t,e,a){e=t.exports=a(3)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"Samples.vue",sourceRoot:"webpack://"}])},119:function(t,e,a){e=t.exports=a(3)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"Form.vue",sourceRoot:"webpack://"}])},139:function(t,e,a){e=t.exports=a(3)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"SamplesForm.vue",sourceRoot:"webpack://"}])},147:function(t,e,a){var s=a(112);"string"==typeof s&&(s=[[t.id,s,""]]);a(4)(s,{});s.locals&&(t.exports=s.locals)},153:function(t,e,a){var s=a(118);"string"==typeof s&&(s=[[t.id,s,""]]);a(4)(s,{});s.locals&&(t.exports=s.locals)},154:function(t,e,a){var s=a(119);"string"==typeof s&&(s=[[t.id,s,""]]);a(4)(s,{});s.locals&&(t.exports=s.locals)},175:function(t,e,a){var s=a(139);"string"==typeof s&&(s=[[t.id,s,""]]);a(4)(s,{});s.locals&&(t.exports=s.locals)},187:function(t,e,a){var s,n;a(154),s=a(313);var i=a(241);n=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(n=s=s.default),"function"==typeof n&&(n=n.options),n.render=i.render,n.staticRenderFns=i.staticRenderFns,t.exports=s},188:function(t,e,a){var s,n;a(147),s=a(314);var i=a(233);n=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(n=s=s.default),"function"==typeof n&&(n=n.options),n.render=i.render,n.staticRenderFns=i.staticRenderFns,t.exports=s},189:function(t,e,a){var s,n;a(153),s=a(315);var i=a(240);n=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(n=s=s.default),"function"==typeof n&&(n=n.options),n.render=i.render,n.staticRenderFns=i.staticRenderFns,t.exports=s},190:function(t,e,a){var s,n;a(175),s=a(316);var i=a(263);n=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(n=s=s.default),"function"==typeof n&&(n=n.options),n.render=i.render,n.staticRenderFns=i.staticRenderFns,t.exports=s},233:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"list"}},[a("h3",[t._v("所有批次")]),t._v(" "),a("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.addNew()}}},[a("i",{staticClass:"fa fa-plus"}),t._v("添加新批次\n    ")]),t._v(" "),a("span",{staticClass:"dropdown",class:{open:t.addMore}},[a("a",{staticClass:"btn btn-default dropdown-toggle",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.clickAddMore()}}},[t._v("\n        其余功能"),a("i",{staticClass:"fa fa-angle-down"})]),t._v(" "),a("ul",{staticClass:"dropdown-menu"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.newClient(e)}}},[t._v("添加新客户")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.newRecipient(e)}}},[t._v("添加新收样人")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.newLocation(e)}}},[t._v("添加新存储位置")])])])]),t._v(" "),a("div",{staticClass:"table-content"},[a("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),a("tbody",t._l(t.batches,function(e){return a("tr",[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.client_id))]),t._v(" "),a("td",[a("div",{staticClass:"btn-group btn-group-sm"},[a("button",{staticClass:"btn btn-primary",on:{click:function(a){a.preventDefault(),t.samples(e)}}},[a("i",{staticClass:"fa fa-eye"})]),t._v(" "),a("button",{staticClass:"btn btn-default",on:{click:function(a){a.preventDefault(),t.editBatch(e)}}},[a("i",{staticClass:"fa fa-edit"})]),t._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:function(a){a.preventDefault(),t.askRemoveBatch(e)}}},[a("i",{staticClass:"fa fa-times"})])])])])}))])]),t._v(" "),a("pagination",{attrs:{paginationData:t.pagination,currentPage:t.currentPage,maxItems:t.pagination.total}})],1),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"recipientForm",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content"},[a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",[t._l(t.recipients,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[a("a",{staticClass:"btn btn-sm btn-default",attrs:{href:"#"},on:{click:function(a){t.editRecipient(e)}}},[a("i",{staticClass:"fa fa-edit"})]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-warning",attrs:{href:"#"},on:{click:function(a){t.deleteRecipient(e)}}},[a("i",{staticClass:"fa fa-times"})])])])}),t._v(" "),a("tr",[a("form",{on:{submit:function(e){e.preventDefault(),t.addNewRecipient()}}},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recipient.name,expression:"recipient.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"姓名"},domProps:{value:t._s(t.recipient.name)},on:{input:function(e){e.target.composing||(t.recipient.name=e.target.value)}}})]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){e.preventDefault(),t.addNewRecipient(e)}}},[t._v("添加")])])])])],2)])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"clientForm",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content"},[a("table",{staticClass:"table"},[t._m(2),t._v(" "),a("tbody",[t._l(t.clients,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[a("a",{staticClass:"btn btn-sm btn-default",attrs:{href:"#"},on:{click:function(a){t.editClient(e)}}},[a("i",{staticClass:"fa fa-edit"})]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-warning",attrs:{href:"#"},on:{click:function(a){t.deleteClient(e)}}},[a("i",{staticClass:"fa fa-times"})])])])}),t._v(" "),a("tr",[a("form",{on:{submit:function(e){e.preventDefault(),t.addNewClient()}}},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.client.name,expression:"client.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"姓名"},domProps:{value:t._s(t.client.name)},on:{input:function(e){e.target.composing||(t.client.name=e.target.value)}}})]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){e.preventDefault(),t.addNewClient(e)}}},[t._v("添加")])])])])],2)])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"locationForm",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-md"},[a("div",{staticClass:"modal-content"},[a("table",{staticClass:"table"},[t._m(3),t._v(" "),a("tbody",[t._l(t.locations,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[a("a",{staticClass:"btn btn-sm btn-default",attrs:{href:"#"},on:{click:function(a){t.editLocation(e)}}},[a("i",{staticClass:"fa fa-edit"})]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-warning",attrs:{href:"#"},on:{click:function(a){t.deleteLocation(e)}}},[a("i",{staticClass:"fa fa-times"})])])])}),t._v(" "),a("tr",[a("form",{on:{submit:function(e){e.preventDefault(),t.addNewLocation()}}},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.location.name,expression:"location.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"姓名"},domProps:{value:t._s(t.location.name)},on:{input:function(e){e.target.composing||(t.location.name=e.target.value)}}})]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){e.preventDefault(),t.addNewLocation(e)}}},[t._v("添加")])])])])],2)])])])]),t._v(" "),a("div",{attrs:{id:"main"}},[a("router-view")],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("客户编号")]),a("th",[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("姓名")]),a("th",[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("姓名")]),a("th",[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("姓名")]),a("th",[t._v("操作")])])])}]}},240:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"col-md-6 text-right"},[a("div",{staticClass:"button-within-header"},[a("a",{directives:[{name:"show",rawName:"v-show",value:!t.isFormVisible,expression:"!isFormVisible"}],staticClass:"btn btn-default btn-sm",attrs:{href:"#"},on:{click:t.create}},[a("i",{staticClass:"fa fa-plus"})]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:t.isFormVisible,expression:"isFormVisible"}],staticClass:"btn btn-default btn-sm",attrs:{href:"#"},on:{click:t.hide}},[a("i",{staticClass:"fa fa-minus"})])])])]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("router-view")],1),t._v(" "),a("div",{staticClass:"table-content"},[a("table",{staticClass:"table table-striped"},[t._m(1),t._v(" "),a("tbody",t._l(t.samples,function(e){return a("tr",[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.py_num))]),t._v(" "),a("td",[a("a",{staticClass:"btn btn-default btn-sm",attrs:{href:"#"},on:{click:function(a){t.editSample(e)}}},[a("i",{staticClass:"fa fa-edit"})]),t._v(" "),a("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"#"},on:{click:function(a){t.askRemoveSample(e)}}},[a("i",{staticClass:"fa fa-times"})])])])}))])]),t._v(" "),a("pagination",{attrs:{paginationData:t.pagination,currentPage:t.currentPage,maxItems:t.pagination.total}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-6"},[a("h1",[t._v("该批次样品管理")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("谱元编号")]),a("th",[t._v("操作")])])])}]}},241:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h1",[t._v(t._s(t.formTitle))])])]),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10 col-sm-offset-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"client_id"}},[t._v("客户方")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.client_id,expression:"form.client_id"}],staticClass:"form-control",attrs:{id:"client_id"},on:{change:function(e){t.form.client_id=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e})[0]}}},[a("option",{attrs:{label:"其他",value:"0"},domProps:{value:"0"}}),t._v(" "),a("option",{attrs:{label:"乐土",value:"1"},domProps:{value:"1"}})])])]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"sample_type"}},[t._v("样品类型")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.sample_type,expression:"form.sample_type"}],staticClass:"form-control",attrs:{id:"sample_type"},on:{change:function(e){t.form.sample_type=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e})[0]}}},[a("option",{attrs:{label:"其他",value:"0"},domProps:{value:"0"}}),t._v(" "),a("option",{attrs:{label:"粪便",value:"1"},domProps:{value:"1"}}),t._v(" "),a("option",{attrs:{label:"脑脊液",value:"2"},domProps:{value:"2"}}),t._v(" "),a("option",{attrs:{label:"DNA",value:"3"},domProps:{value:"3"}}),t._v(" "),a("option",{attrs:{label:"土壤",value:"4"},domProps:{value:"4"}}),t._v(" "),a("option",{attrs:{label:"发酵品",value:"5"},domProps:{value:"5"}})])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"sender"}},[t._v("寄送人")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.sender,expression:"form.sender"}],staticClass:"form-control",attrs:{type:"text",id:"sender"},domProps:{value:t._s(t.form.sender)},on:{input:function(e){e.target.composing||(t.form.sender=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"sender_contact"}},[t._v("寄送人联系方式")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.sender_contact,expression:"form.sender_contact"}],staticClass:"form-control",attrs:{type:"text",id:"sender_contact"},domProps:{value:t._s(t.form.sender_contact)},on:{input:function(e){e.target.composing||(t.form.sender_contact=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"sender_time"}},[t._v("寄送时间")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.sender_time,expression:"form.sender_time"}],staticClass:"form-control",attrs:{type:"date",id:"sender_time"},domProps:{value:t._s(t.form.sender_time)},on:{input:function(e){e.target.composing||(t.form.sender_time=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"arrive_status"}},[t._v("到样状态")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.arrive_status,expression:"form.arrive_status"}],staticClass:"form-control",attrs:{id:"arrive_status"},on:{change:function(e){t.form.arrive_status=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e})[0]}}},[a("option",{attrs:{label:"其他",value:"0"},domProps:{value:"0"}}),t._v(" "),a("option",{attrs:{label:"干冰冻存",value:"1"},domProps:{value:"1"}}),t._v(" "),a("option",{attrs:{label:"冰袋冻存",value:"2"},domProps:{value:"2"}}),t._v(" "),a("option",{attrs:{label:"室温",value:"3"},domProps:{value:"3"}}),t._v(" "),a("option",{attrs:{label:"异常",value:"4"},domProps:{value:"4"}})])])]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"store_location"}},[t._v("贮存位置")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.store_location,expression:"form.store_location"}],staticClass:"form-control",attrs:{id:"store_location"},on:{change:function(e){t.form.store_location=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e})[0]}}},[a("option",{attrs:{label:"其他",value:"0"},domProps:{value:"0"}}),t._v(" "),a("option",{attrs:{label:"一号冰箱",value:"1"},domProps:{value:"1"}})])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"recipient"}},[t._v("接样人")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.recipient,expression:"form.recipient"}],staticClass:"form-control",attrs:{id:"recipient"},on:{change:function(e){t.form.recipient=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e})[0]}}},[a("option",{attrs:{label:"其他",value:"0"},domProps:{value:"0"}}),t._v(" "),a("option",{attrs:{label:"黄光灿",value:"1"},domProps:{value:"1"}})])])]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"arrive_time"}},[t._v("到样时间")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.arrive_time,expression:"form.arrive_time"}],staticClass:"form-control",attrs:{type:"date",id:"arrive_time"},domProps:{value:t._s(t.form.arrive_time)},on:{input:function(e){e.target.composing||(t.form.arrive_time=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"express_num"}},[t._v("快递单号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.express_num,expression:"form.express_num"}],staticClass:"form-control",attrs:{type:"text",id:"express_num"},domProps:{value:t._s(t.form.express_num)},on:{input:function(e){e.target.composing||(t.form.express_num=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"note"}},[t._v("意外情况")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.note,expression:"form.note"}],staticClass:"form-control",attrs:{id:"note"},domProps:{value:t._s(t.form.note)},on:{input:function(e){e.target.composing||(t.form.note=e.target.value)}}})])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4 col-sm-offset-4"},[a("a",{staticClass:"btn btn-default full-width",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.submit(e)}}},[t._v("提交")]),t._v(" "),a("a",{attrs:{href:"#"},on:{click:t.eventOn}},[t._v("Ceshi")])])])])])},staticRenderFns:[]}},263:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"well"},[a("table",{staticStyle:{width:"100%"}},[t._m(0),t._v(" "),a("tbody",[t._l(t.form,function(e){return a("tr",{staticClass:"table-form"},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ori_num,expression:"sample.ori_num"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t._s(e.ori_num)},on:{input:function(t){t.target.composing||(e.ori_num=t.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.py_num,expression:"sample.py_num"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t._s(e.py_num)},on:{input:function(t){t.target.composing||(e.py_num=t.target.value)}}})]),t._v(" "),a("td",{attrs:{width:"70"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sample_amount_type,expression:"sample.sample_amount_type"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.sample_amount_type)?t._i(e.sample_amount_type,null)>-1:e.sample_amount_type},on:{change:function(a){var s=e.sample_amount_type,n=a.target,i=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);i?r<0&&(e.sample_amount_type=s.concat(o)):r>-1&&(e.sample_amount_type=s.slice(0,r).concat(s.slice(r+1)))}else e.sample_amount_type=i}}}),a("p",[t._v("是否固体")])]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sample_amount,expression:"sample.sample_amount"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t._s(e.sample_amount)},on:{input:function(t){t.target.composing||(e.sample_amount=t.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sample_status,expression:"sample.sample_status"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t._s(e.sample_status)},on:{input:function(t){t.target.composing||(e.sample_status=t.target.value)}}})]),t._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:t.showCreateForm,expression:"showCreateForm"}]},[a("a",{staticClass:"btn btn-danger",attrs:{href:"#"},on:{click:function(a){t.removeLine(e)}}},[a("i",{staticClass:"fa fa-times"})])])])}),t._v(" "),a("tr",[a("td",{directives:[{name:"show",rawName:"v-show",value:t.showCreateForm,expression:"showCreateForm"}],attrs:{colspan:"4"}},[a("a",{staticClass:"btn btn-info",attrs:{href:"#"},on:{click:function(e){t.addLine()}}},[a("i",{staticClass:"fa fa-plus"})])]),t._v(" "),a("td",[a("a",{staticClass:"btn btn-primary full-width",attrs:{href:"#"},on:{click:t.submit}},[t._v("保存")])])])],2)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("谱元编号")]),t._v(" "),a("th",[t._v("原始编号")]),t._v(" "),a("th",[t._v("样品类型")]),t._v(" "),a("th",[t._v("样品量")]),t._v(" "),a("th",[t._v("样品状态/特征")]),t._v(" "),a("th")])])}]}},313:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),i=s(n),o=a(2),r=a(11);e.default={name:"BatchesForm",data:function(){return{form:{id:0,client_id:0,sample_type:0,sender:"",sender_contact:"",send_time:"",arrive_status:0,store_location:0,arrive_time:"",recipient:0,express_num:"",note:""}}},watch:{$route:"fetch"},mounted:function(){this.fetch()},computed:{isEditing:function(){return this.form.id>0},isValid:function(){return!0},formTitle:function(){return this.form.id>0?"修改批次信息":"新增批次"}},methods:(0,i.default)({},(0,o.mapActions)(["setFetching","resetMessages","setMessage"]),{fetch:function(){var t=this,e=this.$route.params.id;void 0!==e&&(this.setFetching({fetching:!0}),this.$http.get("batches/"+e).then(function(e){var a=e.data,s=a.data;t.form=(0,i.default)({},s),t.setFetching({fetching:!1})}))},eventOn:function(){this.$bus.$emit("haha",{hha:0})},submit:function(){this.isValid&&(this.setFetching({fetching:!0}),this.isEditing?this.update():this.save())},save:function(){var t=this;this.$http.post("batches",(0,r.pick)(this.form,["client_id","sample_type","sender","sender_contact","send_time","arrive_status","store_location","arrive_time","recipient","express_num","note"])).then(function(){t.$bus.$emit("batches.created"),t.setFetching({fetching:!1}),t.setMessage({type:"success",message:"新批次录入成功"}),t.reset()})},update:function(){var t=this;this.$http.put("batches/"+this.form.id,this.form).then(function(){t.$bus.$emit("batches.updated"),t.setMessage({type:"success",message:"批次信息更新成功"}),t.reset()})},reset:function(){this.client_id=0,this.sample_type=0,this.sender="",this.sender_contact="",this.send_time="",this.arrive_status=0,this.store_location=0,this.arrive_time="",this.recipient=0,this.express_num="",this.note="",this.$router.push({name:"batches.index"})}})}},314:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),i=s(n),o=a(2);e.default={data:function(){return{recipient:{name:""},location:{name:""},addMore:!1,client:{name:""}}},mounted:function(){var t=this;this.$bus.$on("navigate",function(e){return t.navigate(e)}),this.$bus.$on("batches.created",function(){return t.fetchBatches}),this.$bus.$on("batches.update",function(){return t.fetchBatches}),this.$bus.$on("haha",function(t){return console.log(t)}),this.fetchBatches()},computed:(0,i.default)({},(0,o.mapState)({batches:function(t){return t.Batches.batches},batches_pagination:function(t){return t.Batches.batches_pagination},recipients:function(t){return t.Batches.recipients},locations:function(t){return t.Batches.locations},clients:function(t){return t.Batches.clients}}),{currentPage:function(){return parseInt(this.$route.query.page,10)||1},pagination:function(){return this.batches_pagination}}),watch:{currentPage:"fetchBatches",$route:"fetchBatches"},beforeRouterLeave:function(t,e,a){this.$bus.$off("batches.created"),this.$bus.$off("batches.updated"),a()},methods:(0,i.default)({},(0,o.mapActions)(["batchesSetData","recipientsSetData","locationsSetData"]),{fetchBatches:function(){var t=this;this.$http.get("batches?page="+this.currentPage).then(function(e){var a=e.data;t.batchesSetData({batches:a.data,batches_pagination:a.meta.pagination})})},clickAddMore:function(){this.addMore=!this.addMore},addNew:function(){this.$router.push({name:"batches.new",query:{page:this.currentPage}})},samples:function(t){var e=t.id;this.$router.push({name:"batch.samples.index",params:{id:e}})},editBatch:function(t){var e=t.id;this.$router.push({name:"batches.edit",params:{id:e}})},askRemoveBatch:function(t){var e=this;swal({title:"确定吗？",text:"批次"+t.id+"将会被删除",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"确定",closeOnConfirm:!1},function(){return e.deleteBatch(t)})},deleteBatch:function(t){var e=this;this.$http.delete("batches/"+t.id).then(function(){swal("完成","批次删除成功","success"),e.fetchBatches()})},newClient:function(){this.fetchClients(),this.clickAddMore(),$("#clientForm").modal("show")},newRecipient:function(){this.fetchRecipients(),this.clickAddMore(),$("#recipientForm").modal("show")},newLocation:function(){this.fetchLocations(),this.clickAddMore(),$("#locationForm").modal("show")},addNewRecipient:function(){var t=this;this.$http.post("recipients",this.recipients).then(function(){t.fetchRecipients})},fetchClients:function(){var t=this;this.$http.get("clients").then(function(e){var a=e.data;t.clientsSetData({clients:a.data})})},fetchRecipients:function(){var t=this;this.$http.get("recipients").then(function(e){var a=e.data;t.recipientsSetData({recipients:a.data})})},fetchLocations:function(){var t=this;this.$http.get("locations").then(function(e){var a=e.data;t.locationsSetData({locations:a.data})})},editRecipient:function(t){},deleteRecipient:function(t){},addNewLocation:function(){},editLocation:function(t){},deleteLocation:function(t){},navigate:function(t){this.$router.push({name:"batches.index",query:{page:t.page}})}})}},315:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),i=s(n),o=a(2);e.default={data:function(){return{addMore:!1}},mounted:function(){var t=this;this.$bus.$on("navigate",function(e){return t.navigate(e)}),this.$bus.$on("samples.created",function(){return t.fetchSamples()}),this.$bus.$on("samples.updated",function(){return t.fetchSamples()}),this.fetchSamples()},computed:(0,i.default)({},(0,o.mapState)({samples:function(t){return t.Batches.samples},samples_pagination:function(t){return t.Batches.samples_pagination}}),{currentPage:function(){return parseInt(this.$route.query.page,10)||1},pagination:function(){return this.samples_pagination},isFormVisible:function(){return"batch.samples.new"===this.$route.name||"batch.samples.edit"===this.$route.name},batch_id:function(){return this.$route.params.id}}),watch:{currentPage:"fetchSamples",$route:"fetchSamples"},beforeRouterLeave:function(t,e,a){this.$bus.$off("samples.created"),this.$bus.$off("samples.updated"),a()},methods:(0,i.default)({},(0,o.mapActions)(["samplesSetData","recipientsSetData","locationsSetData","setFetching"]),{fetchSamples:function(){var t=this;this.setFetching({fetching:!0}),this.$http.get("batches/"+this.batch_id+"/samples?page="+this.currentPage).then(function(e){var a=e.data;t.samplesSetData({samples:a.data,samples_pagination:a.meta.pagination}),t.setFetching({fetching:!1})})},clickAddMore:function(){this.addMore=!this.addMore},create:function(){this.$router.push({name:"batch.samples.new",query:{page:this.currentPage}})},hide:function(){this.$router.push({name:"batch.samples.index",query:{page:this.currentPage}})},editSample:function(t){var e=t.id;this.$router.push({name:"batch.samples.edit",params:{sample_id:e}})},askRemoveSample:function(t){var e=this;swal({title:"确定吗？",text:"样品"+t.id+"将会被删除",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"确定",closeOnConfirm:!1},function(){return e.deleteSample(t)})},deleteSample:function(t){var e=this;this.$http.delete("samples/"+t.id).then(function(){swal("完成","样品删除成功","success"),e.fetchSamples()})},navigate:function(t){this.$router.push({name:"samples.index",query:{page:t.page}})}})}},316:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),i=s(n),o=a(2);e.default={data:function(){return{form:[{batch_id:this.$route.params.id,id:0,ori_num:"",py_num:"",sample_amount_type:0,sample_amount:0,sample_status:""}]}},computed:{isEditing:function(){return this.form[0].id>0},isValid:function(){return!0},showCreateForm:function(){return"batch.samples.new"===this.$route.name}},mounted:function(){this.fetch()},watch:{$route:"fetch"},methods:(0,i.default)({},(0,o.mapActions)(["setFetching","resetMessages","setMessage"]),{fetch:function(){var t=this,e=this.$route.params.sample_id;void 0!==e&&(this.setFetching({fetching:!0}),this.$http.get("samples/"+e).then(function(e){var a=e.data;t.form[0]=(0,i.default)({},a.data),console.log(t.form)}))},addLine:function(){this.form.push({batch_id:this.$route.params.id,id:0,ori_num:"",py_num:"",sample_amount_type:0,sample_amount:0,sample_status:""})},removeLine:function(t){var e=this.form.indexOf(t);this.form.splice(e,1)},submit:function(){this.isValid&&(this.isEditing?this.update():this.save())},update:function(){var t=this;this.$http.put("samples/"+this.form[0].id,this.form[0]).then(function(){t.$bus.$emit("samples.updated"),t.setFetching({fetching:!1}),t.setMessage({type:"success",message:"样品更新成功"}),t.reset()})},save:function(){var t=this;this.$http.post("samples",this.form).then(function(){t.$bus.$emit("samples.created"),t.setFetching({fetching:!1}),t.setMessage({type:"success",message:"样品添加成功"}),t.reset()})},reset:function(){this.form=[{batch_id:this.$route.params.id,id:0,ori_num:"",py_num:"",sample_amount_type:0,sample_amount:0,sample_status:""}]}})}}});
//# sourceMappingURL=3.ec719767bae0d82e2698.js.map