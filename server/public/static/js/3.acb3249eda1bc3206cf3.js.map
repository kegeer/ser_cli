{"version":3,"sources":["webpack:///static/js/3.acb3249eda1bc3206cf3.js","webpack:///./src/app/results/main.vue","webpack:///./src/app/results/result.vue","webpack:///./src/app/results/main.vue?a932","webpack:///main.vue?ced2"],"names":["webpackJsonp","204","module","exports","__webpack_require__","__vue_exports__","__vue_options__","__vue_template__","default","options","render","staticRenderFns","205","214","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","default-active","router","index","_v","directives","name","rawName","value","expression","placeholder","domProps","on","input","$event","staticStyle","display","type","icon","click","search","width","data","results","stripe","border","prop","label","inlineTemplate","size","show","$index","askRemove","current-page","pagination","current_page","page-size","per_page","layout","total","current-change","navigate","316","_interopRequireDefault","obj","__esModule","Object","defineProperty","_extends2","_extends3","_vuex","active","mounted","fetch","computed","mapState","state","Results","results_pagination","fetching","currentPage","parseInt","$route","query","page","watch","methods","mapActions","_this","setFetching","$http","get","then","_ref","resultsSetData","meta","console","log","id","$router","push","params","_this2","result","$confirm","delete","$notify","title","message","catch","error","response","messages"],"mappings":"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","file":"static/js/3.acb3249eda1bc3206cf3.js","sourcesContent":["webpackJsonp([3,5],{\n\n/***/ 204:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(316)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(214)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 205:\n/***/ function(module, exports) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 214:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('main', [_c('div', {\n\t    staticClass: \"main-left\"\n\t  }, [_c('el-menu', {\n\t    staticClass: \"el-menu-vertical-demo\",\n\t    attrs: {\n\t      \"default-active\": \"/active\",\n\t      \"router\": true\n\t    }\n\t  }, [_c('el-menu-item', {\n\t    attrs: {\n\t      \"index\": \"/active\"\n\t    }\n\t  }, [_vm._v(\"所有结果\")])], 1)], 1), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"main-right\"\n\t  }, [_c('breadcrumb'), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"filters\"\n\t  }, [_c('div', {\n\t    staticClass: \"filter\"\n\t  }, [_vm._v(\"\\n        谱元编号\\n        \"), _c('el-input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.name),\n\t      expression: \"name\"\n\t    }],\n\t    attrs: {\n\t      \"placeholder\": \"请输入谱元编号\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.name)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        _vm.name = $event\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('el-button-group', {\n\t    staticStyle: {\n\t      \"display\": \"inline-block\"\n\t    }\n\t  }, [_c('el-button', {\n\t    attrs: {\n\t      \"type\": \"primary\",\n\t      \"icon\": \"search\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.search\n\t    }\n\t  }, [_vm._v(\"搜索\")])], 1)], 1), _vm._v(\" \"), _c('el-table', {\n\t    directives: [{\n\t      name: \"loading\",\n\t      rawName: \"v-loading\",\n\t      value: (_vm.fetching),\n\t      expression: \"fetching\"\n\t    }],\n\t    staticStyle: {\n\t      \"width\": \"100%\"\n\t    },\n\t    attrs: {\n\t      \"data\": _vm.results,\n\t      \"stripe\": \"\",\n\t      \"border\": \"\"\n\t    }\n\t  }, [_c('el-table-column', {\n\t    attrs: {\n\t      \"prop\": \"id\",\n\t      \"label\": \"ID\",\n\t      \"width\": \"80\"\n\t    }\n\t  }), _vm._v(\" \"), _c('el-table-column', {\n\t    attrs: {\n\t      \"prop\": \"sample_id\",\n\t      \"label\": \"样品ID\"\n\t    }\n\t  }), _vm._v(\" \"), _c('el-table-column', {\n\t    attrs: {\n\t      \"prop\": \"product\",\n\t      \"label\": \"产品类型\"\n\t    }\n\t  }), _vm._v(\" \"), _c('el-table-column', {\n\t    attrs: {\n\t      \"prop\": \"major\",\n\t      \"label\": \"合作方\"\n\t    }\n\t  }), _vm._v(\" \"), _c('el-table-column', {\n\t    attrs: {\n\t      \"prop\": \"sub\",\n\t      \"label\": \"报告版本\"\n\t    }\n\t  }), _vm._v(\" \"), _c('el-table-column', {\n\t    attrs: {\n\t      \"prop\": \"created_at\",\n\t      \"label\": \"结果生成日期\"\n\t    }\n\t  }), _vm._v(\" \"), _c('el-table-column', {\n\t    attrs: {\n\t      \"label\": \"操作\",\n\t      \"width\": \"180\"\n\t    },\n\t    inlineTemplate: {\n\t      render: function() {\n\t        var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t          return _c('div', [_c('el-button', {\n\t            attrs: {\n\t              \"type\": \"primary\",\n\t              \"icon\": \"plus\",\n\t              \"size\": \"mini\"\n\t            },\n\t            on: {\n\t              \"click\": function($event) {\n\t                _vm.show(_vm.$index)\n\t              }\n\t            }\n\t          }), _vm._v(\" \"), _c('el-button', {\n\t            attrs: {\n\t              \"type\": \"warning\",\n\t              \"icon\": \"delete\",\n\t              \"size\": \"mini\"\n\t            },\n\t            on: {\n\t              \"click\": function($event) {\n\t                _vm.askRemove(_vm.$index)\n\t              }\n\t            }\n\t          })], 1)\n\t        \n\t      },\n\t      staticRenderFns: []\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"pagination\"\n\t  }, [_c('el-pagination', {\n\t    attrs: {\n\t      \"current-page\": _vm.pagination.current_page,\n\t      \"page-size\": _vm.pagination.per_page,\n\t      \"layout\": \"total, prev, pager, next, jumper\",\n\t      \"total\": _vm.pagination.total\n\t    },\n\t    on: {\n\t      \"current-change\": _vm.navigate\n\t    }\n\t  })], 1)], 1)])\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 316:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(1);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      name: '',\n\t      active: false\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    this.fetch();\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    results: function results(state) {\n\t      return state.Results.results;\n\t    },\n\t    pagination: function pagination(state) {\n\t      return state.Results.results_pagination;\n\t    },\n\t    fetching: function fetching(state) {\n\t      return state.fetching;\n\t    }\n\t  }), {\n\t    currentPage: function currentPage() {\n\t      return parseInt(this.$route.query.page, 10) || 1;\n\t    }\n\t  }),\n\t  watch: {\n\t    currentPage: 'fetch'\n\t  },\n\t  methods: (0, _extends3.default)({}, (0, _vuex.mapActions)(['setFetching', 'resultsSetData']), {\n\t    fetch: function fetch() {\n\t      var _this = this;\n\t\n\t      this.setFetching({\n\t        fetching: true\n\t      });\n\t      this.$http.get('results?page=' + this.currentPage).then(function (_ref) {\n\t        var data = _ref.data;\n\t\n\t        _this.resultsSetData({\n\t          results: data.data,\n\t          results_pagination: data.meta.pagination\n\t        });\n\t        _this.setFetching({\n\t          fetching: false\n\t        });\n\t      });\n\t    },\n\t    search: function search() {\n\t      console.log('search');\n\t    },\n\t    show: function show(index) {\n\t      var id = this.results[index].id;\n\t\n\t      this.$router.push({\n\t        name: 'results.show',\n\t        params: {\n\t          id: id\n\t        }\n\t      });\n\t    },\n\t    askRemove: function askRemove(index) {\n\t      var _this2 = this;\n\t\n\t      var result = this.results[index];\n\t      this.$confirm('确认删除记录吗？', '提示', {\n\t        type: 'warning'\n\t      }).then(function () {\n\t        _this2.$http.delete('results/' + result.id).then(function () {\n\t          _this2.fetch();\n\t          _this2.$notify({\n\t            title: '成功',\n\t            message: '删除成功',\n\t            type: 'success'\n\t          });\n\t        }).catch(function (error) {\n\t          _this2.$notify({\n\t            title: '糟糕',\n\t            message: error.response.data.messages[0],\n\t            type: 'error'\n\t          });\n\t        });\n\t      });\n\t    },\n\t    navigate: function navigate(page) {\n\t      this.$router.push({\n\t        name: 'results.index',\n\t        query: {\n\t          page: page\n\t        }\n\t      });\n\t    }\n\t  })\n\t};\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.acb3249eda1bc3206cf3.js","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./main.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-40e515ec!vue-loader/lib/selector?type=template&index=0!./main.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/results/main.vue\n// module id = 204\n// module chunks = 3","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/results/result.vue\n// module id = 205\n// module chunks = 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', [_c('div', {\n    staticClass: \"main-left\"\n  }, [_c('el-menu', {\n    staticClass: \"el-menu-vertical-demo\",\n    attrs: {\n      \"default-active\": \"/active\",\n      \"router\": true\n    }\n  }, [_c('el-menu-item', {\n    attrs: {\n      \"index\": \"/active\"\n    }\n  }, [_vm._v(\"所有结果\")])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"main-right\"\n  }, [_c('breadcrumb'), _vm._v(\" \"), _c('div', {\n    staticClass: \"filters\"\n  }, [_c('div', {\n    staticClass: \"filter\"\n  }, [_vm._v(\"\\n        谱元编号\\n        \"), _c('el-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.name),\n      expression: \"name\"\n    }],\n    attrs: {\n      \"placeholder\": \"请输入谱元编号\"\n    },\n    domProps: {\n      \"value\": (_vm.name)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.name = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-button-group', {\n    staticStyle: {\n      \"display\": \"inline-block\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"search\"\n    },\n    on: {\n      \"click\": _vm.search\n    }\n  }, [_vm._v(\"搜索\")])], 1)], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.fetching),\n      expression: \"fetching\"\n    }],\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.results,\n      \"stripe\": \"\",\n      \"border\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"id\",\n      \"label\": \"ID\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"sample_id\",\n      \"label\": \"样品ID\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"product\",\n      \"label\": \"产品类型\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"major\",\n      \"label\": \"合作方\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"sub\",\n      \"label\": \"报告版本\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"created_at\",\n      \"label\": \"结果生成日期\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"180\"\n    },\n    inlineTemplate: {\n      render: function() {\n        var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n          return _c('div', [_c('el-button', {\n            attrs: {\n              \"type\": \"primary\",\n              \"icon\": \"plus\",\n              \"size\": \"mini\"\n            },\n            on: {\n              \"click\": function($event) {\n                _vm.show(_vm.$index)\n              }\n            }\n          }), _vm._v(\" \"), _c('el-button', {\n            attrs: {\n              \"type\": \"warning\",\n              \"icon\": \"delete\",\n              \"size\": \"mini\"\n            },\n            on: {\n              \"click\": function($event) {\n                _vm.askRemove(_vm.$index)\n              }\n            }\n          })], 1)\n        \n      },\n      staticRenderFns: []\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"pagination\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.pagination.current_page,\n      \"page-size\": _vm.pagination.per_page,\n      \"layout\": \"total, prev, pager, next, jumper\",\n      \"total\": _vm.pagination.total\n    },\n    on: {\n      \"current-change\": _vm.navigate\n    }\n  })], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.10.0.2@vue-loader/lib/template-compiler.js?id=data-v-40e515ec!./~/.10.0.2@vue-loader/lib/selector.js?type=template&index=0!./src/app/results/main.vue\n// module id = 214\n// module chunks = 3","<template>\n<main>\n  <div class=\"main-left\">\n    <el-menu default-active=\"/active\" class=\"el-menu-vertical-demo\" :router=\"true\">\n      <el-menu-item index=\"/active\">所有结果</el-menu-item>\n    </el-menu>\n  </div>\n\n  <div class=\"main-right\">\n    <breadcrumb></breadcrumb>\n    <div class=\"filters\">\n      <div class=\"filter\">\n        谱元编号\n        <el-input placeholder=\"请输入谱元编号\" v-model=\"name\"></el-input>\n      </div>\n      <el-button-group style=\"display: inline-block;\">\n        <el-button type=\"primary\" @click=\"search\" icon=\"search\">搜索</el-button>\n      </el-button-group>\n    </div>\n\n    <el-table v-loading=\"fetching\" :data=\"results\" stripe border style=\"width: 100%;\">\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\n      <el-table-column prop=\"sample_id\" label=\"样品ID\"></el-table-column>\n      <el-table-column prop=\"product\" label=\"产品类型\"></el-table-column>\n      <el-table-column prop=\"major\" label=\"合作方\"></el-table-column>\n      <el-table-column prop=\"sub\" label=\"报告版本\"></el-table-column>\n      <el-table-column prop=\"created_at\" label=\"结果生成日期\"></el-table-column>\n      <el-table-column inline-template label=\"操作\" width=\"180\">\n        <div>\n          <el-button @click=\"show($index)\" type=\"primary\" icon=\"plus\" size=\"mini\">\n          </el-button>\n          <el-button @click=\"askRemove($index)\" type=\"warning\" icon=\"delete\" size=\"mini\">\n          </el-button>\n        </div>\n      </el-table-column>\n    </el-table>\n\n    <div class=\"pagination\">\n      <el-pagination @current-change=\"navigate\" :current-page=\"pagination.current_page\" :page-size=\"pagination.per_page\" layout=\"total, prev, pager, next, jumper\" :total=\"pagination.total\"></el-pagination>\n    </div>\n  </div>\n</main>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nexport default {\n  data () {\n    return {\n      name: '',\n      active: false\n    }\n  },\n  mounted () {\n    this.fetch()\n  },\n  computed: {\n    ...mapState({\n      results: state => state.Results.results,\n      pagination: state => state.Results.results_pagination,\n      fetching: state => state.fetching\n    }),\n    currentPage () {\n      return parseInt(this.$route.query.page, 10) || 1\n    }\n  },\n  watch: {\n    currentPage: 'fetch'\n  },\n  methods: {\n    ...mapActions(['setFetching', 'resultsSetData']),\n    fetch () {\n      this.setFetching({\n        fetching: true\n      })\n      this.$http.get(`results?page=${this.currentPage}`)\n        .then(({\n          data\n        }) => {\n          this.resultsSetData({\n            results: data.data,\n            results_pagination: data.meta.pagination\n          })\n          this.setFetching({\n            fetching: false\n          })\n        })\n    },\n    search () {\n      console.log('search')\n    },\n    show (index) {\n      const { id } = this.results[index]\n      this.$router.push({\n        name: 'results.show',\n        params: {\n          id\n        }\n      })\n    },\n    askRemove (index) {\n      const result = this.results[index]\n      this.$confirm('确认删除记录吗？', '提示', {\n        type: 'warning'\n      }).then(() => {\n        this.$http.delete(`results/${result.id}`)\n          .then(() => {\n            this.fetch()\n            this.$notify({\n              title: '成功',\n              message: '删除成功',\n              type: 'success'\n            })\n          })\n          .catch((error) => {\n            this.$notify({\n              title: '糟糕',\n              message: error.response.data.messages[0],\n              type: 'error'\n            })\n          })\n      })\n    },\n    navigate (page) {\n      this.$router.push({\n        name: 'results.index',\n        query: {\n          page\n        }\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// main.vue?10dfe90d"],"sourceRoot":""}